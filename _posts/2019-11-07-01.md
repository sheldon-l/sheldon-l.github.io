---
layout: post
title: Linux 8 - Making a Bootable Live USB Drive
published_at: "2019-11-07"
updated_at: "2019-11-07"
author: Taners
tags: [Kali, bootable, live]
---

### Kali Lunix

- [Making a Kali Bootable USB Drive](https://www.kali.org/docs/usb/kali-linux-live-usb-install/)

```bash
sudo bash

# before plugin USB
ls -1 /dev/sd?

# after plugin USB
ls -1 /dev/sd?

fdisk -l /dev/sd<?>    # disk list, to check sd<?> which, such as sdb 

dd bs=4M if=path/to/input.iso of=/dev/sd<?> status=progress
```

- [Adding Persistence to a Kali Linux "Live" USB Drive](https://www.kali.org/docs/usb/kali-linux-live-usb-persistence/)

```bash
# after Making a Kali Bootable USB Drive
# operate in debian
# USB is 16 GB
# now part a new sdb3

# before plugin USB
ls -1 /dev/sd?

# after plugin USB
ls -1 /dev/sd?

fdisk -l /dev/sd<?>

end=14.8gb
read start _ < <(du -bcm kali-linux-2020.1b-live-amd64.iso | tail -1); echo $start
parted /dev/sd<?> mkpart primary $start $end    # ignore all tips

fdisk -l /dev/sd<?>  # sd<?>3

mkfs.ext3 -L persistence /dev/sd<?>3 # whate while writing superblocks
e2label /dev/sd<?>3 persistence

# create mount point
mkdir -p /mnt/my_usb
mount /dev/sd<?>3 /mnt/my_usb
echo "/ union" > /mnt/my_usb/persistence.conf
umount /dev/sd<?>3

```

- Restart from USB Persistence to enjoy it.
  - Now you (`~`) are in `/mnt/my_usb/rw/home/kali/`

```bash
# Users admin
sudo passwd root
sudo passwd kali

# Update
cat /etc/apt/sources.list
sudo apt update
sudo apt full-upgrade
# you have to use a mirror to do a full graphical install 
# or you may will just get a Command Prompty MS- DOS with out a GUI.
# SEE TROUBLE SHOOTING
```

- **Truble Shooting**:

  - If UGI dead:

    - `Ctrl + Alt + F2`
  
    ```bash
    dpkg --configure -a
    apt --fix-broken install

    apt update
    apt full-upgrade -y

    apt install -f gdm3
    # OR
    apt install lightdm

    reboot
    ```

    - `Ctrl + Alt + F1`

    ```bash
    apt-get install gnome

    reboot
    ```


### Tails

- [Install Tails from Linux](https://tails.boum.org/install/linux/usb/index.en.html)

```bash
sudo bash

# before plugin USB
ls -1 /dev/sd?

# after plugin USB
ls -1 /dev/sd?

dd if=$hub/images/tails-amd64-4.5.img of=/dev/sdc bs=16M oflag=direct status=progress
```